<template>

    <div class='slds-box slds slds-color__background_gray-1'>
        
        <div style='display:flex;'>
            <div class='slds-text-heading_large'>Internal Courses Searcher</div>

            <template if:true={isLoading}>
                <div class="slds-is-relative slds-var-m-left_xx-large" >
                    <lightning-spinner alternative-text="Loading..." variant="brand" size="small"></lightning-spinner>
                </div>
            </template>
        </div>

        <template if:true={displayHeaderMenuSearchByDistance}>
            <div class="slds-grid slds-gutters slds-var-p-top_large slds-var-p-bottom_large slds-container_center">

                <div class="slds-col">
                    <lightning-slider label="Distance radius" 
                                      min='1'
                                      max='100'
                                      value={radius}
                                      onchange={distanceRadiusHandleChange}>
                    </lightning-slider>
                </div>

                <div class="slds-col">
                    <lightning-input type="date"
                                     label='Birth/Due Date'
                                     class='birth_due_date_input_field'
                                     required>
                    </lightning-input>
                </div>

                <div class="slds-col" style='margin-top:1.35rem;'>
                    <lightning-button variant="brand"
                                      label="Search by Date"
                                      icon-name="utility:search"
                                      icon-position="right"
                                      onclick={handlerByClickSearchByDate} >
                    </lightning-button>
                </div>

            </div>
        </template>

        <template if:true={displayHeaderMenuSearchByBranch}>
            <div class="slds-grid slds-gutters slds-var-p-top_large slds-var-p-bottom_large">

                <div class="slds-col">
                    <lightning-input type="input"
                                     variant='label-hidden'
                                     class='branch_input_field'
                                     placeholder='Branch Number'
                                     required >
                    </lightning-input>
                </div>

                <div class="slds-col">
                    <lightning-button variant="brand"
                                      label="Search by Branch"
                                      icon-name="utility:search"
                                      icon-position="right"
                                      onclick={handlerByClickSearchByBranch} >
                    </lightning-button>
                </div>

            </div>
        </template>
        
        <div class='slds-var-m-top_medium slds-border_bottom'></div>

        <template if:false={isCoursesFound}>
            <c-courses-not-found></c-courses-not-found>
        </template>

        <template if:true={isCoursesFound}>
            <c-course-search-custom-data-table  data={tableCourseData}
                                                columns={columns}
                                                show-row-number-column
                                                wrap-text-max-lines="3"
                                                row-number-offset={rowOffset}
                                                hide-checkbox-column
                                                default-sort-direction='desc'
                                                sorted-by={sortBy}
                                                sorted-direction={sortDirection}
                                                onsort={handleSortdata}
                                                key-field="id">
            </c-course-search-custom-data-table>
        </template>

    </div>

</template>