<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Membership_Result_Assignment</name>
        <label>Membership Result  Assignment</label>
        <locationX>899</locationX>
        <locationY>128</locationY>
        <assignmentItems>
            <assignToReference>Chosen_Membership_Result</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Membership_Options_Value</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Is_Membership_With_Partner</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Membership_Options_Add_Partner</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_True</name>
        <label>Set True</label>
        <locationX>484</locationX>
        <locationY>38</locationY>
        <assignmentItems>
            <assignToReference>WithPartner</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Membership_Option_Screen</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Membership_12</name>
        <choiceText>&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!Membership_12_Template}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>MEMBERSHIP_TYPE_A</elementReference>
        </value>
    </choices>
    <choices>
        <name>Membership_18</name>
        <choiceText>&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!Membership_18_Template}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>MEMBERSHIP_TYPE_E</elementReference>
        </value>
    </choices>
    <choices>
        <name>Membership_Options_Joint</name>
        <choiceText>&lt;span style=&quot;font-size: 16px; color: rgb(2, 2, 2);&quot;&gt;Yes&lt;/span&gt;</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </choices>
    <choices>
        <name>Membership_Options_Single</name>
        <choiceText>&lt;span style=&quot;color: rgb(33, 37, 41); font-size: 16px;&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;﻿&lt;/span&gt;No&lt;/span&gt;</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </choices>
    <choices>
        <name>No_Membership</name>
        <choiceText>&lt;b style=&quot;font-size: 16px; color: rgb(33, 37, 41);&quot;&gt;Continue without membership&lt;/b&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>WITHOUT_MEMBERSHIP</elementReference>
        </value>
    </choices>
    <constants>
        <name>Line_Image</name>
        <dataType>String</dataType>
        <value>
            <stringValue>&lt;img src=&apos;/resource/line&apos;/&gt;</stringValue>
        </value>
    </constants>
    <constants>
        <name>MEMBERSHIP_TYPE_A</name>
        <dataType>String</dataType>
        <value>
            <stringValue>A</stringValue>
        </value>
    </constants>
    <constants>
        <name>MEMBERSHIP_TYPE_E</name>
        <dataType>String</dataType>
        <value>
            <stringValue>E</stringValue>
        </value>
    </constants>
    <constants>
        <name>WITHOUT_MEMBERSHIP</name>
        <dataType>String</dataType>
        <value>
            <stringValue>No</stringValue>
        </value>
    </constants>
    <decisions>
        <name>With_Partner</name>
        <label>With Partner</label>
        <locationX>477</locationX>
        <locationY>223</locationY>
        <defaultConnector>
            <targetReference>Set_True</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>With Partner</defaultConnectorLabel>
        <rules>
            <name>Without_Partner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>bookingRecord.Partner_Contact__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Membership_Option_Screen</targetReference>
            </connector>
            <label>Without Partner</label>
        </rules>
    </decisions>
    <interviewLabel>Booking Membership Options {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Booking Membership Options</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <screens>
        <name>Membership_Option_Screen</name>
        <label>Membership Option Screen</label>
        <locationX>738</locationX>
        <locationY>128</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Membership_Result_Assignment</targetReference>
        </connector>
        <fields>
            <name>Membership_Option_Description</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 28px; color: rgb(33, 37, 41);&quot;&gt;Hi {!bookingRecord.First_Name__c},&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 20px; color: rgb(33, 37, 41);&quot;&gt;We&#39;re currently running a great offer on our membership&lt;/span&gt;&lt;span style=&quot;font-size: 18px; color: rgb(33, 37, 41);&quot;&gt;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!Line_Image}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 28px; color: rgb(0, 135, 106);&quot;&gt;Join us - and each other&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px; color: rgb(33, 37, 41);&quot;&gt;Being the UK’s largest charity for parents also means we’re the UK’s largest community of new parents.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px; color: rgb(33, 37, 41);&quot;&gt;By becoming NCT members, thousands of parents have formed lifelong friendships and support networks. Through us, they’ve shared experiences, excitement and inspiration during some of the most amazing times of their lives – and beyond.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px; color: rgb(33, 37, 41);&quot;&gt;Your membership donation will support our work in your community, and in local communities across the UK&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!Line_Image}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 135, 106); font-size: 28px; background-color: rgb(255, 255, 255);&quot;&gt;Membership options&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Membership_Options_Value</name>
            <choiceReferences>Membership_18</choiceReferences>
            <choiceReferences>Membership_12</choiceReferences>
            <choiceReferences>No_Membership</choiceReferences>
            <dataType>String</dataType>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Added_partner</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 20px; color: rgb(0, 135, 106);&quot;&gt;﻿Your membership covers up to two people at the same address at no extra cost.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(33, 37, 41); font-size: 16px;&quot;&gt;Would you like to add your partner ?&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>WithPartner</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Membership_Options_Value</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <elementReference>WITHOUT_MEMBERSHIP</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Membership_Options_Add_Partner</name>
            <choiceReferences>Membership_Options_Joint</choiceReferences>
            <choiceReferences>Membership_Options_Single</choiceReferences>
            <dataType>Boolean</dataType>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>WithPartner</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Membership_Options_Value</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <elementReference>WITHOUT_MEMBERSHIP</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>137</locationX>
        <locationY>137</locationY>
        <connector>
            <targetReference>With_Partner</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>Membership_12_Template</name>
        <text>&lt;b style=&quot;font-size: 16px;&quot;&gt;12 &lt;/b&gt;&lt;b style=&quot;font-size: 16px; color: #212529; background-color: rgb(255, 255, 255);&quot;&gt;month membership&lt;/b&gt; &lt;p style=&quot;margin-left:24px;&quot;&gt;12 months money off baby supplies, holidays and services when you help us continue being the leading charity for pregnancy and young families. &lt;b style=&quot;color:#212529;&quot;&gt;£48&lt;/b&gt;&amp;nbsp;(or £12 per quarter)&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>Membership_18_Template</name>
        <text>&lt;b style=&quot;font-size: 16px; color:#212529;&quot;&gt;18 month memberships&lt;/b&gt;&lt;p style=&quot;margin-left:24px;&quot;&gt;18 months money off baby supplies, holidays and services when you help us continue being the leading charity for pregnancy and young families. &lt;b style=&quot;color:#212529;&quot;&gt;£57&lt;/b&gt;&amp;nbsp;(or £9.50 per quarter)&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>Membership_Options_Add_Partner_Label</name>
        <text>Would you like to add partner?</text>
    </textTemplates>
    <variables>
        <name>bookingRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Booking__c</objectType>
    </variables>
    <variables>
        <name>Chosen_Membership_Result</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Is_Membership_With_Partner</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>WithPartner</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
